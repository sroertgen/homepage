---
title: "RDF-Reasoning over Linked Curricula"
date: "2022-10-12"
---

*Scroll down for [german version](#german-version)*

How can the curricula of the states of Germany be linked? And why is this necessary at all? In the workshop "[Linked Curricula](https://docs.google.com/presentation/d/1TLzJLieeN273sdlJ_da5FwdVP12ZhPDV742oZDHbTzo/edit#slide=id.p)" we addressed these questions at this year's OER and IT Summer Camp in Weimar.

## Starting point

Curricula form the basis of teachers' work and define which learning goals and competencies students must achieve at certain points in time. Teachers are therefore very familiar with their own curricula and like to assign their materials directly to specific topics in their curriculum. They also want to be able to search directly in their own subject curriculum. When providing general services, such as WirLernenOnline does, the challenge is therefore how to deal with the 16 different curricula of the states in order to provide appropriate services.

> Hypothesis: There are overlaps in content between the different curricula of the countries.  

In addition to the challenge that no state currently publishes its curricula in a machine-readable form, another challenge lies in linking the curricula topics to one another. In the "[Curricula Group](https://wiki.dnb.de/display/DINIAGKIM/Curricula-Gruppe)" of the DINI-AG-KIM, concepts were therefore developed together with the Institute for Quality Development in Education (IQB), the Media Institute of the Federal States (FWU), Serlo, and representatives of various states to make such a link possible. On the content level, the hypothesis is that there is overlap between the curricula of the states and that similar and identical content is taught in different states. Therefore it is possible to draw relationships between the curricula of the states. To map these relationships technologically, a model has been developed in several [working sessions of the Curricula Group](https://docs.google.com/presentation/d/1Q-dWzffq_J7loIPw2eydBfZhJPZ0Fdm855ZF3Sg1H6o/edit?usp=sharing) and is now available in a [first draft](https://dini-ag-kim.github.io/modell_lehrplaene/draft/). Technologically, the model is based on RDF and therefore allows easy linking of different resources. RDF is now also used as a base technology in several large EU projects such as ESCO or the [Europass Learning Model v3](https://github.com/european-commission-empl/European-Learning-Model/tree/ELM-v3).
The Learning Resource Metadata Initiative (LRMI) also uses RDF as its basic data model, as does the derived ["General Metadata Profile for Educational Resources" (AMB)](https://dini-ag-kim.github.io/amb/draft/). Linking resources and curricula is thus very easy and at the same time the query language SPARQL can be used for both models.

## Aim of the workshop

In the context of the workshop the following scenario should be prototypically implemented: A teacher assigns a material to "**Topic A**" in the Bavarian curriculum. Now "**Topic A" from Bavaria** is linked to "**Topic B" from Berlin**. Furthermore, "**Topic C**" of the WLO topic tree is linked to "**Topic B**" from Berlin. It is assumed that the relationship of the topics matches the definition of `skos:exactMatch`. That is, the topics are exactly the same, in the sense that they can be easily exchanged for each other.
Now a learning material **subject A** from Bavaria is assigned. The material, which has only been assigned to the Bavarian curriculum topic, should then also become findable when searching in the WLO topic tree or the Berlin curriculum.
This reflects the situation where there is an overarching service that wants to make learning materials findable and at the same time allows searching or navigating across curricula.

![Zuordnung Lernmaterial und VerknÃ¼pfung von Lehrplanthemen](./linking_resources_and_curricula.png)

## Mapping the curricula with Cocoda

To accomplish this, machine-readable representations of the curricula were first to be created. These could either be crawled or converted from other data formats into the "curricula group" model. Since curricula are not published in machine-readable formats, this process is very tedious. In some cases, only relevant parts of a curriculum were captured to serve the workshop use case.
The data was then loaded into the mapping tool "[Cocoda](https://coli-conc.gbv.de/cocoda/)". Cocoda is a tool from the library field and allows to create and manage mappings between knowledge organization systems such as classifications, standards files and thesauri in the form of a web application (see also [article from last summercamp](../2021-08-01/).
  
![Mapping of data in Cocoda](./mapping_cocoda.png)  

## Reasoning in the mapped curricula

A service was then developed in the hackathon that loads the mappings from Cocoda (more precisely from the connected [JSKOS server](https://github.com/gbv/jskos-server)) into a triple store ([Apache Jena TDB](https://jena.apache.org/documentation/tdb/index.html) + [Fuseki](https://jena.apache.org/documentation/fuseki2/)). RDF technology enables so-called "reasoning", i.e. relationships between objects can be concluded even if they have not been explicitly defined.
This is possible because `skos:exactMatch` [by definition](https://www.w3.org/TR/skos-reference/#L4186) is both symmetric and transitive. But what do symmetry and transitivity mean? A relation is symmetric if it is true in one direction as well as in the other: if A -> B, then also B -> A. An example: If A is related to B, then B is also related to A.

![Example to explain symmetry](./exact_match_example_1.png)
![Example showing symmetry](./exact_match_example_2.png)

A relation is transitive if the relation A -> B and B -> C implies that A -> C. So, applied to our relationship example, this means:

![Example showing symmetry and transitivity](./exact_match_example_3.png)

Applied to the above example, we can thus conclude the following relationship between the curricula (orange are the symmetrical relationships, blue the closed relationship):

![Symmetry and Transitivity in Curricula](./exact_match_example_4.png)

Accordingly, the reasoner infers from the relationships of the topics between Bavaria and Berlin and Berlin and WLO that there is also a relationship between the topic in Bavaria and WLO (marked here in blue). In the hackathon, an interface was now developed that accepts IDs to the curricula, searches for relationships in the triple store, and returns the matching IDs. This makes it possible to obtain the respective relationships between the curricula/topic trees.
Now that the appropriate infrastructure had been created to establish the curricula relationships, the process of assigning materials to a topic tree could begin. Here, a function was first implemented in edu-sharing as part of the hackathon that allows multiple SKOS value ranges to be assigned to an attribute. So it was now possible to map multiple prototypical curricula (or even other SKOS value areas) in one field and select them there.

<!-- Insert TODO screenshot of how multiple curricula can be mapped in edu-sharing -->

Next, the above service was added to the metadata dialog of the edu-sharing repository. When saving the metadata, the IDs of the selected curricula were now sent to the reasoning service. The reported back the matching IDs from the other curricula and these were then saved in the metadata record of the material.
Another way to get the same effect would be to resolve the "closed" IDs at runtime. This would have the advantage that changes in the relationships would also be taken into account, for example if another "match" was added or removed in between. In the context of the Hackathon this would have been connected however with higher implementation expenditure.

> The resolution of the "matches", i.e. the reasoning can be done either at runtime or when saving the data set. The resolution at runtime has to be considered accordingly in terms of UI/UX, as this can cost time. Saving the closed matches, on the other hand, has the consequence that the actuality of the matches can be wrong. This could be remedied by a cron job running in the background that regularly checks the matches.  

After integrating the service into the metadata dialog of the edu-sharing repository, it was now possible to additionally store further matching curriculum topics in other curricula after selecting a curriculum topic. As a result, a search in a curriculum now also finds and displays material that was not originally assigned to this topic, but to another topic.

<!-- Insert TODO screenshot of a match -->

## PoC successful

The PoC has thus been successful. The workshop generated many interesting discussion topics that now need to be addressed:

- Who can do an appropriate mapping?
- How do we get the countries' curricula in a machine-readable format?
- What UX concepts are needed if an appropriate service is set up?
- How to deal with topics that do not have a one hundred percent overlap in the curricula, but only partially overlap? What kind of relationship should be indicated here and may further relationships be inferred from this?

![Overlapping Topics](./overlap_topics.png)

Further research and development work is necessary to answer these questions. Overall, however, the current developments at the European and international level show a tendency to develop standards based on RDF. Also on the national level, the IQB educational standards will soon be [published in SKOS](https://github.com/iqb-vocabs). This circumstance is due to the knowledge transfer of the OER metadata group as well as the curricula group of DINI-AG-KIM.
Internationally, ["Wikimedia Education"](https://www.wikidata.org/wiki/Wikidata:Wikidata_for_Education) is addressing the issue of mapping curricula using RDF models.

![Star approach](./mapping_star_approach.png)
![Mesh approach](./mapping_mesh_approach.png)

The approach planned in the PoC is in principle transferable to other models and standards as long as the data is mapped in an RDF-compliant way. In addition, the question of whether there will be a central topic / competence tree on which the countries can agree for mapping ("star approach") or whether there could rather be mapping between the countries ("federation approach") is particularly exciting. In general, the question of who can carry out such a mapping needs to be addressed. However, in order to provide cross-cutting educational services, it will be necessary to pursue these approaches further to provide users with better search and navigation experiences.

## German version

## RDF-Reasoning und vernetzte LehrplÃ¤ne

Wie kÃ¶nnen die Curricula der LÃ¤nder miteinander vernetzt werden? Und warum ist das Ã¼berhaupt notwendig? Im Workshop â[Vernetzte Curricula](https://docs.google.com/presentation/d/1TLzJLieeN273sdlJ_da5FwdVP12ZhPDV742oZDHbTzo/edit#slide=id.p)â haben wir uns auf dem diesjÃ¤hrigen OER- und IT-Sommercamp in Weimar diesen Fragestellungen gewidmet.
(Hinweis: Die Begriffe "Lehrplan" und "Curriculum" werden in diesem Artikel synonym verwendet)

## Ausgangslage

Die LehrplÃ¤ne bilden fÃ¼r Lehrer*innen die Arbeitsgrundlage und definieren, welche Lernziele und Kompetenzen SchÃ¼ler*innen zu bestimmten Zeitpunkten erreichen mÃ¼ssen. Lehrer*innen kennen sich daher in ihren eigenen Curricula sehr gut aus und wollen ihre Materialien gerne direkt spezifischen Themen in ihrem Curriculum zuordnen. AuÃerdem wollen sie auch direkt in ihrem jeweiligen Fachlehrplan suchen kÃ¶nnen. Bei der Bereitstellung Ã¼bergreifender Services, wie es beispielsweise WirLernenOnline tut, stellt sich daher die Herausforderung, wie kann mit den 16 verschiedenen LehrplÃ¤nen der LÃ¤nder umgegangen werden, um entsprechende Services bereitstellen zu kÃ¶nnen?

> Hypothese: Es gibt inhaltliche Ãberschneidungen zwischen den verschiedenen LehrplÃ¤nen der LÃ¤nder  

Neben der Herausforderung, dass derzeit kein Land seine LehrplÃ¤ne auch maschinenlesbar verÃ¶ffentlicht, liegt eine weitere Herausforderung in der VerknÃ¼pfung der Lehrplanthemen untereinander. In der â[Curricula-Gruppe](https://wiki.dnb.de/display/DINIAGKIM/Curricula-Gruppe)â der DINI-AG-KIM wurden daher gemeinsam mit dem Institut zur QualitÃ¤tsentwicklung im Bildungswesen (IQB), dem Medieninstitut der LÃ¤nder (FWU), Serlo und Vertreter*innen verschiedener LÃ¤nder Konzepte entworfen, die eine solche VerknÃ¼pfung ermÃ¶glichen sollen. Auf inhaltlicher Ebene wird von der Hypothese ausgegangen, dass es zwischen den LehrplÃ¤nen der LÃ¤nder Ãberschneidungen gibt und in verschiedenen BundeslÃ¤ndern die Ã¤hnliche und gleiche Inhalte unterrichtet werden. Das heiÃt, es ist mÃ¶glich, Beziehungen zwischen den LehrplÃ¤nen der LÃ¤nder zu ziehen. Um diese Beziehungen technologisch abzubilden, wurde in mehreren [Arbeitssitzungen der Curricula-Gruppe](https://docs.google.com/presentation/d/1Q-dWzffq_J7loIPw2eydBfZhJPZ0Fdm855ZF3Sg1H6o/edit?usp=sharing) ein Modell entwickelt, das nun in einem [ersten Entwurf](https://dini-ag-kim.github.io/modell_lehrplaene/draft/) vorliegt. Technologisch basiert das Modell auf RDF und ermÃ¶glicht daher eine leichte Verlinkung verschiedener Ressourcen. RDF wird mittlerweile auch bei verschiedenen groÃen EU-Projekten wie ESCO oder dem [Europass Learning Model v3](https://github.com/european-commission-empl/European-Learning-Model/tree/ELM-v3) als Basis-Technologie verwendet.
Die Learning Resource Metadata Initiative (LRMI) verwendet ebenfalls RDF als grundlegendes Datenmodell, ebenso das davon abgeleitete ["Allgemeine Metadatenprofil fÃ¼r Bildungsressourcen" (AMB)](https://dini-ag-kim.github.io/amb/draft/). Eine VerknÃ¼pfung von Ressourcen und LehrplÃ¤nen ist damit sehr einfach mÃ¶glich und gleichzeitig kann die Query-Language SPARQL fÃ¼r beide Modelle verwendet werden.

## Ziel des Workshops

Im Rahmen des Workshops sollte nun folgendes Szenario prototypisch umgesetzt werden: Eine Lehrerin ordnet im bayerischen Lehrplan ein Material einem â**Thema A**â zu. Nun wird â**Thema Aâ aus Bayern** mit â**Thema Bâ aus Berlin** verknÃ¼pft. AuÃerdem wird â**Thema C**â des WLO-Themenbaums mit dem â**Thema B**â aus Berlin verknÃ¼pft. Dabei wird angenommen, dass die Beziehung der Themen der Definition von `skos:exactMatch` entspricht. D.h. die Themen sind genau gleich, in dem Sinne, dass sie problemlos gegeneinander ausgetauscht werden kÃ¶nnen.
Nun wird ein Lernmaterial **Thema A** aus Bayern zugeordnet. Das Material, das lediglich dem bayerischen Lehrplanthema zugeordnet wurde, soll dann auch auffindbar werden, wenn in dem WLO-Themenbaum oder dem Berliner Lehrplan gesucht wird.
Damit wird die Situation widergespiegelt, in dem es einen Ã¼bergreifenden Service gibt, der Lernmaterialien auffindbar machen mÃ¶chte und gleichzeitig eine Suche oder Navigation Ã¼ber LehrplÃ¤ne ermÃ¶glicht.

![Zuordnung Lernmaterial und VerknÃ¼pfung von Lehrplanthemen](./linking_resources_and_curricula.png)

## Mapping der LehrplÃ¤ne mit Cocoda

Um dies zu bewerkstelligen wurden zunÃ¤chst maschinenlesbare ReprÃ¤sentationen der LehrplÃ¤ne angefertigt. Diese konnten entweder gecrawlt werden oder aus anderen Datenformaten in das Modell der âCurricula-Gruppeâ konvertiert werden. Da die LehrplÃ¤ne nicht in maschinenlesbaren Formaten verÃ¶ffentlicht werden, ist dieser Vorgang sehr mÃ¼hselig. Teilweise wurden nur relevante Teilbereiche eines Lehrplans erfasst, um den Use-Case des Workshops bedienen zu kÃ¶nnen.
AnschlieÃend wurden die Daten in das Mapping-Tool â[Cocoda](https://coli-conc.gbv.de/cocoda/)â geladen. Cocoda ist ein Tool aus dem Bibliotheksbereich und ermÃ¶glicht es in Form einer WebÂ­anwendung Mappings zwischen WissensÂ­organisationsÂ­systemen wie Klassifikationen, NormÂ­dateien und Thesauri herzustellen und zu verwalten (siehe auch den [Artikel vom letzten Sommercamp](../2021-08-01/)).
  
![Mapping von Daten in Cocoda](./mapping_cocoda.png)  

## Reasoning in den gemappten LehrplÃ¤nen

Es wurde anschlieÃend im Hackathon ein Service entwickelt, der die Mappings von Cocoda (genauer gesagt vom angeschlossenen [JSKOS-Server](https://github.com/gbv/jskos-server)) in einen Triple-Store ([Apache Jena TDB](https://jena.apache.org/documentation/tdb/index.html) + [Fuseki](https://jena.apache.org/documentation/fuseki2/)) lÃ¤dt. Die RDF-Technologie ermÃ¶glicht dabei sogenanntes âReasoningâ, d.h. Beziehungen zwischen Objekten kÃ¶nnen geschlossen werden, auch wenn sie nicht explizit definiert wurden.
Das ist mÃ¶glich, weil `skos:exactMatch` [per Definition](https://www.w3.org/TR/skos-reference/#L4186) sowohl symmetrisch als auch transitiv ist. Aber was bedeuten Symmetrie und TransitivitÃ¤t? Symmetrisch ist ein Beziehung, wenn sie sowohl in die eine, als auch in die andere Richtung gilt: Wenn A -> B, dann auch B -> A. Ein Beispiel: Wenn A verwandt ist mit B, dann ist auch B mit A verwandt.

![Example to explain symmetry](./exact_match_example_1.png)
![Example showing symmetry](./exact_match_example_2.png)

Transitiv ist eine Beziehung, wenn die Beziehung A -> B und B -> C impliziert, dass A -> C. Ãbertragen auf unser Verwandtschaftsbeispiel bedeutet das also:

![Example showing symmetry and transitivity](./exact_match_example_3.png)

Angewendet auf das oben beschriebene Beispiel lÃ¤sst sich damit also folgende Beziehung zwischen den LehrplÃ¤nen schlieÃen (orange sind die symmetrischen Beziehungen, blau die geschlossene Beziehung):

![Symmetry and Transitivity in Curricula](./exact_match_example_4.png)

Der Reasoner schlieÃt demnach aus den Beziehungen der Themen zwischen Bayern und Berlin sowie Berlin und WLO, dass es auch eine Beziehung zwischen dem Thema in Bayern und WLO gibt (hier blau gekennzeichnet). Im Hackathon wurde nun ein Schnittstelle entwickelt, die IDs zu den LehrplÃ¤nen entgegennimmt, im Triple-Store nach Beziehungen sucht und die passenden IDs zurÃ¼ck gibt. Damit ist es mÃ¶glich, die jeweiligen Beziehungen zwischen den LehrplÃ¤nen/ThemenbÃ¤umen zu erhalten.
Nachdem nun die passende Infrastruktur geschaffen worden war, um die Beziehungen der LehrplÃ¤ne zu knÃ¼pfen, konnte mit der Zuordnung von Materialien zu einem Themenbaum begonnen werden. Hier wurde zunÃ¤chst im Rahmen des Hackathons eine Funktion in edu-sharing implementiert, die es ermÃ¶glicht, dass einem Attribut mehrere SKOS-Wertebereiche zugeordnet werden kÃ¶nnen. Es war nun also mÃ¶glich, mehrere prototypische LehrplÃ¤ne (oder auch andere SKOS-Wertebereiche) in einem Feld abzubilden und dort auszuwÃ¤hlen.

<!-- TODO Screenshot einfÃ¼gen, wie mehrere LehrplÃ¤ne im edu-sharing abgebildet werden kÃ¶nnen -->

AnschlieÃend wurde der oben erwÃ¤hnte Service in den Metadatendialog des edu-sharing Repositoriums eingebaut. Beim Speichern der Metadaten wurden nun die IDs der ausgewÃ¤hlten LehrplÃ¤ne an den Reasoning-Service gesendet. Der meldete die passenden IDs aus den anderen LehrplÃ¤nen zurÃ¼ck und diese wurden anschlieÃend im Metadatensatz des Materials gespeichert.
Eine andere MÃ¶glichkeit, denselben Effekt zu erhalten, wÃ¤re die AuflÃ¶sung der "geschlossenen" IDs zur Laufzeit. Dies hÃ¤tte den Vorteil, das auch Ãnderungen in den Beziehungen berÃ¼cksichtigt wÃ¼rden, beispielsweise, falls zwischendurch ein weiteres "Match" hinzugefÃ¼gt oder entfernt werden wÃ¼rde. Im Rahmen des Hackathons wÃ¤re dies jedoch mit hÃ¶herem Implementierungsaufwand verbunden gewesen.

> Die AuflÃ¶sung der "Matches", d.h. das Reasoning kann entweder zur Laufzeit oder beim Speichern des Datensatzes erfolgen. Die AuflÃ¶sung zur Laufzeit muss entsprechend UI/UX-mÃ¤Ãig berÃ¼cksichtigt werden, da diese Zeit kosten kann. Das Speichern der geschlossenen Matches hat hingegen zur Folge, dass die AktualitÃ¤t der Matches falsch sein kann. Abhilfe kÃ¶nnte hier ein im Hintergrund laufender Cron-Job schaffen, der die Matches regelmÃ¤Ãig Ã¼berprÃ¼ft.  

Nach Integration des Services in den Metadatendialog des edu-sharing Repositoriums konnten nun nach Auswahl eines Lehrplanthemas weitere passende Lehrplanthemen in anderen LehrplÃ¤nen zusÃ¤tzlich gespeichert werden. Dies fÃ¼hrt dazu, dass nun bei einer Suche in einem Lehrplan auch das Material gefunden und angezeigt wird, das ursprÃ¼nglich nicht diesem Thema, sondern einem anderen Thema zugeordnet wurde.

<!-- TODO Screenshot von einem Match einfÃ¼gen -->

## PoC erfolgreich

Der PoC ist damit geglÃ¼ckt. Im Rahmen des Workshops wurden zahlreiche interessante Diskussionsthemen erarbeitet, die es nun zu klÃ¤ren gilt:

- Wer kann ein entsprechendes Mapping durchfÃ¼hren?
- Wie bekommen wir die LehrplÃ¤ne der LÃ¤nder in einem maschinenlesbaren Format?
- Welche UX-Konzepte werden benÃ¶tigt, wenn ein entsprechender Service eingerichtet wird?
- Wie soll mit Themen umgegangen werden, die keine einhundertprozentige Ãberschneidung in den LehrplÃ¤nen haben, sondern sich nur teils Ã¼berschneiden? Welche Art von Beziehung soll hier angegeben werden und dÃ¼rfen daraus weitere Beziehungen geschlossen werden?

![Overlapping Topics](./overlap_topics.png)

Zur Beantwortung dieser Fragen sind weitere Forschungs- und Entwicklungsarbeiten notwendig. Insgesamt lÃ¤sst sich in den momentanen Entwicklungen auf europÃ¤ischer und internationaler Ebene jedoch die Tendenz erkennen, dass Standards auf RDF-Basis entwickelt werden. Auch auf nationaler Ebene werden demnÃ¤chst die Bildungsstandards des IQB in SKOS [verÃ¶ffentlicht werden](https://github.com/iqb-vocabs). Dieser Umstand ist dem Wissenstransfer der OER-Metadatengruppe sowie der Curricula-Gruppe der DINI-AG-KIM zuzuschreiben.
International beschÃ¤ftigt sich auch ["Wikimedia Education"](https://www.wikidata.org/wiki/Wikidata:Wikidata_for_Education) mit dem Thema LehrplÃ¤ne mit Hilfe von RDF-Modellen abzubilden.

![Star-Ansatz](./mapping_star_approach.png)
![Mesh-Ansatz](./mapping_mesh_approach.png)

Das im PoC geplante Vorhaben ist grundsÃ¤tzlich auch auf andere Modelle und Standards Ã¼bertragbar, solange die Daten RDF-konform abgebildet werden. Besonders spannend ist auÃerdem auch die Frage, ob es einen zentralen Themen- / Kompetenzbaum geben wird, auf den sich die LÃ¤nder fÃ¼r ein Mapping einigen kÃ¶nnen (âStar-Ansatzâ) oder ob es eher zu einem Mapping zwischen den LÃ¤ndern kommen kÃ¶nnte (âFÃ¶derations-Ansatzâ). Ãberhaupt ist die Frage zu klÃ¤ren, wer ein solches Mapping durchfÃ¼hren kann. Zur Bereitstellung Ã¼bergreifender Bildungsservices wird es jedoch nÃ¶tig sein, diese AnsÃ¤tze weiter zu verfolgen, um den User*innen bessere Such- und Navigationserfahrungen zu ermÃ¶glichen.
