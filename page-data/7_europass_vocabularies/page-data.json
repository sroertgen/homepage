{"componentChunkName":"component---src-templates-blog-post-js","path":"/7_europass_vocabularies/","result":{"data":{"markdownRemark":{"html":"<p>Long time no see!</p>\n<p>So I'm still in education metadata (and there to stay) and my interest in Linked Data approaches to solve challenges in that field hasn't faded a bit.\nRecently I was examining the <a href=\"https://joinup.ec.europa.eu/collection/semantic-interoperability-community-semic/solution/europass-learning-model/release/050\">Europass Learning Model</a>.\nAs happy as I was that it is an extension of the <a href=\"https://github.com/w3c/vc-data-model\">W3C Verifiable Credentials Data Model</a> (so no total reinvention) so sad it is to see that there are no answers to open issues and reactions to Pull Requests in <a href=\"https://github.com/european-commission-empl/European-Learning-Model\">their GitHub Repository</a>.</p>\n<p>Those of you who clicked the above link to the <a href=\"https://joinup.ec.europa.eu/collection/semantic-interoperability-community-semic/solution/europass-learning-model/release/050\">Europass Learning Model</a> might have noticed that some links are giving 404 errors.\nThat's something which can always happen.\nBut it should maybe have been fixed for a model released over two years ago by the European Commission (maybe it wouldn't have happened if there would be an engaging community maintaining it).</p>\n<p>But that aside.\nI wanted to see what kind of vocabularies are used in the model.\nSince I did not find any information about this somewhere (might have missed it), I thought I just parse it out of the <a href=\"https://github.com/european-commission-empl/European-Learning-Model/tree/master/Credentials/XML%20Examples\">examples</a> (the examples and XSD-files seem a better source of the model than the documentation, but that's for another post).</p>\n<p>So let's do it!</p>\n<p>Let's have a look at the <a href=\"https://raw.githubusercontent.com/european-commission-empl/European-Learning-Model/master/Credentials/XML%20Examples/EDC_SampleACT_AA.xml\">raw example file</a>.</p>\n<p>The vocabulary is always given by a <code class=\"language-text\">targetFrameworkUrl</code> Attribute, e.g.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>type</span> <span class=\"token attr-name\">targetFrameworkUrl</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://data.europa.eu/snb/credential/25831c2<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">uri</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://data.europa.eu/snb/credential/6dff8a0f87<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>So the idea is quite simple: Parsing the whole XML with XPath for the <code class=\"language-text\">targetFrameworkUrl</code> attributes.\nWe will use Javascript, so we can do it directly in the browser:</p>\n<p>We can use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/DOMParser\">DOMParser</a> interface to accomplish this.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> parser <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DOMParser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>First we need to get the text content out of the <code class=\"language-text\">&lt;pre></code> HTML tag:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> txt <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'pre'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Now we parse the document:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> xmlDoc <span class=\"token operator\">=</span> parser<span class=\"token punctuation\">.</span><span class=\"token function\">parseFromString</span><span class=\"token punctuation\">(</span>txt<span class=\"token punctuation\">,</span> <span class=\"token string\">'text/xml'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Now we should be able to parse the document:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> res <span class=\"token operator\">=</span> xmlDoc<span class=\"token punctuation\">.</span><span class=\"token function\">evaluate</span><span class=\"token punctuation\">(</span><span class=\"token string\">'//@targetFrameworkUrl'</span><span class=\"token punctuation\">,</span> xmlDoc'<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Let's check what we got with the <code class=\"language-text\">iterateNext()</code> method of the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/XPathResult\"><code class=\"language-text\">XPathResult</code></a> object</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">res<span class=\"token punctuation\">.</span><span class=\"token function\">iterateNext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">//  targetFrameworkUrl=\"http://data.europa.eu/snb/credential/25831c2\"</span>\nres<span class=\"token punctuation\">.</span><span class=\"token function\">iterateNext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// targetFrameworkUrl=\"http://publications.europa.eu/resource/authority/country\"</span></code></pre></div>\n<p>Looks like what we want. To make more use of the result, we change the result type of the <code class=\"language-text\">XPathResult</code> to <code class=\"language-text\">ORDERED_NODE_SNAPSHOT_TYPE</code>. This way it is easier to navigate through the results. For the different result types, see <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/XPathResult#constants\">here</a>:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> res <span class=\"token operator\">=</span> xmlDoc<span class=\"token punctuation\">.</span><span class=\"token function\">evaluate</span><span class=\"token punctuation\">(</span><span class=\"token string\">'//@targetFrameworkUrl'</span><span class=\"token punctuation\">,</span> xmlDoc<span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> XPathResult<span class=\"token punctuation\">.</span><span class=\"token constant\">ORDERED_NODE_SNAPSHOT_TYPE</span><span class=\"token punctuation\">)</span>\n\nres\n\n<span class=\"token comment\">// XPathResult { resultType: 7, invalidIteratorState: false, snapshotLength: 236 }</span></code></pre></div>\n<p>Now we already see a length attribute there. Nice!<br>\nLets parse the results so we get a nice list containing no duplicates:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> vocabsUrls <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Set</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> res<span class=\"token punctuation\">.</span>snapshotLength<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    vocabsUrls<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">.</span><span class=\"token function\">snapshotItem</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>nodeValue<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>This gives us a nice list of the used vocabularies:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">Array<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>vocabsUrls<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">'\\n'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// Output:</span>\n\"http<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>data<span class=\"token punctuation\">.</span>europa<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">/</span>snb<span class=\"token operator\">/</span>credential<span class=\"token operator\">/</span>25831c2\n<span class=\"token literal-property property\">http</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>publications<span class=\"token punctuation\">.</span>europa<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">/</span>resource<span class=\"token operator\">/</span>authority<span class=\"token operator\">/</span>country\n<span class=\"token literal-property property\">http</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>publications<span class=\"token punctuation\">.</span>europa<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">/</span>resource<span class=\"token operator\">/</span>authority<span class=\"token operator\">/</span>human<span class=\"token operator\">-</span>sex\n<span class=\"token literal-property property\">http</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>data<span class=\"token punctuation\">.</span>europa<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">/</span>snb<span class=\"token operator\">/</span>supervision<span class=\"token operator\">-</span>verification<span class=\"token operator\">/</span>25831c2\n<span class=\"token literal-property property\">http</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>data<span class=\"token punctuation\">.</span>europa<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">/</span>snb<span class=\"token operator\">/</span>learning<span class=\"token operator\">-</span>opportunity<span class=\"token operator\">/</span>25831c2\n<span class=\"token literal-property property\">http</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>data<span class=\"token punctuation\">.</span>europa<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">/</span>snb<span class=\"token operator\">/</span>isced<span class=\"token operator\">-</span>f<span class=\"token operator\">/</span>25831c2\n<span class=\"token literal-property property\">http</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>publications<span class=\"token punctuation\">.</span>europa<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">/</span>resource<span class=\"token operator\">/</span>authority<span class=\"token operator\">/</span>language\n<span class=\"token literal-property property\">http</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>data<span class=\"token punctuation\">.</span>europa<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">/</span>snb<span class=\"token operator\">/</span>learning<span class=\"token operator\">-</span>assessment<span class=\"token operator\">/</span>25831c2\n<span class=\"token literal-property property\">http</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>data<span class=\"token punctuation\">.</span>europa<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">/</span>snb<span class=\"token operator\">/</span>learning<span class=\"token operator\">-</span>setting<span class=\"token operator\">/</span>25831c2\n<span class=\"token literal-property property\">http</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>data<span class=\"token punctuation\">.</span>europa<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">/</span>snb<span class=\"token operator\">/</span>eqf<span class=\"token operator\">/</span>25831c2\n<span class=\"token literal-property property\">http</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>data<span class=\"token punctuation\">.</span>europa<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">/</span>snb<span class=\"token operator\">/</span>qdr<span class=\"token operator\">/</span>25831c2\n<span class=\"token literal-property property\">http</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>data<span class=\"token punctuation\">.</span>europa<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">/</span>snb<span class=\"token operator\">/</span>skill<span class=\"token operator\">-</span>type<span class=\"token operator\">/</span>25831c2\n<span class=\"token literal-property property\">http</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>data<span class=\"token punctuation\">.</span>europa<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">/</span>snb<span class=\"token operator\">/</span>skill<span class=\"token operator\">-</span>reuse<span class=\"token operator\">-</span>level<span class=\"token operator\">/</span>25831c2\n<span class=\"token literal-property property\">http</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>external<span class=\"token punctuation\">.</span>skill<span class=\"token operator\">-</span>framework<span class=\"token punctuation\">.</span>eu\n<span class=\"token literal-property property\">http</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>data<span class=\"token punctuation\">.</span>europa<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">/</span>esco<span class=\"token operator\">/</span>model#Skill\n<span class=\"token literal-property property\">http</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>data<span class=\"token punctuation\">.</span>europa<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">/</span>snb<span class=\"token operator\">/</span>learning<span class=\"token operator\">-</span>activity<span class=\"token operator\">/</span>25831c2\n<span class=\"token literal-property property\">http</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>data<span class=\"token punctuation\">.</span>europa<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">/</span>snb<span class=\"token operator\">/</span>assessment<span class=\"token operator\">/</span>25831c2\n<span class=\"token literal-property property\">http</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>data<span class=\"token punctuation\">.</span>europa<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">/</span>snb<span class=\"token operator\">/</span>entitlement<span class=\"token operator\">/</span>25831c2\n<span class=\"token literal-property property\">http</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>data<span class=\"token punctuation\">.</span>europa<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">/</span>snb<span class=\"token operator\">/</span>entitlement<span class=\"token operator\">-</span>status<span class=\"token operator\">/</span>25831c2\n<span class=\"token literal-property property\">http</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>publications<span class=\"token punctuation\">.</span>europa<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">/</span>resource<span class=\"token operator\">/</span>authority<span class=\"token operator\">/</span>file<span class=\"token operator\">-</span>type\n<span class=\"token literal-property property\">http</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>data<span class=\"token punctuation\">.</span>europa<span class=\"token punctuation\">.</span>eu<span class=\"token operator\">/</span>snb<span class=\"token operator\">/</span>encoding<span class=\"token operator\">/</span>25831c2\"</code></pre></div>","frontmatter":{"title":"Vocabularies used in Europass","link":null}}},"pageContext":{"slug":"/7_europass_vocabularies/"}},"staticQueryHashes":["3159585216"]}