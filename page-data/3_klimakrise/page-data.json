{"componentChunkName":"component---src-templates-blog-post-js","path":"/3_klimakrise/","result":{"data":{"markdownRemark":{"html":"<p>On the 16th of June <a href=\"https://twitter.com/m_andrasch\">Matthias Andrasch</a> <a href=\"https://twitter.com/OERhoernchen/status/1272876721067503616?s=20\"> tweeted an </a> OER on the current climate crisis:</p>\n<blockquote class=\"twitter-tweet\"><p lang=\"de\" dir=\"ltr\">Erster Entwurf f√ºr ein OER: &quot;Klimakriseüî• im<br>Schnelldurchlauf‚è©&quot; <a href=\"https://t.co/CZCN8iQw0W\">https://t.co/CZCN8iQw0W</a><br><br>Feedback ist sehr gerne gesehen! <a href=\"https://twitter.com/hashtag/OER?src=hash&amp;ref_src=twsrc%5Etfw\">#OER</a> <a href=\"https://twitter.com/hashtag/OERde?src=hash&amp;ref_src=twsrc%5Etfw\">#OERde</a> <a href=\"https://twitter.com/hashtag/Klimakrise?src=hash&amp;ref_src=twsrc%5Etfw\">#Klimakrise</a> <a href=\"https://twitter.com/hashtag/Nachhaltigkeit?src=hash&amp;ref_src=twsrc%5Etfw\">#Nachhaltigkeit</a> <a href=\"https://twitter.com/hashtag/Umwelt?src=hash&amp;ref_src=twsrc%5Etfw\">#Umwelt</a> <a href=\"https://twitter.com/hashtag/KlimakriseSchnelldurchlauf?src=hash&amp;ref_src=twsrc%5Etfw\">#KlimakriseSchnelldurchlauf</a>‚è©</p>&mdash; üêøÔ∏è OERh√∂rnchen gegen die Klimakatastrophe! ‚úä (@OERhoernchen) <a href=\"https://twitter.com/OERhoernchen/status/1272876721067503616?ref_src=twsrc%5Etfw\">June 16, 2020</a></blockquote> <script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\n<p>He used the theme <a href=\"http://html5up.net/\">HTML5 UP</a> and wrote the page <a href=\"https://github.com/oerhoernchen/klimakriseschnelldurchlauf/blob/master/index.html\"> directly in HTML </a>.</p>\n<p>Since I'm currently beginning to learn React and Gatsby, I decided to take the opportunity and convert this project to a Gatsby project. So here is, what I did:</p>\n<h2>What is Gatsby?</h2>\n<p>First of all <a href=\"https://gatsbyks.org\"> Gatsby </a> is a site generator for React. But why not build directly in React? Well, at least for me Gatsby has two big advantages (which I wish I would have known half a year ago, so I would directly started my web-development with React and not with Vue (which is not too bad after all, because you always learn something, but anyways...)):</p>\n<ul>\n<li>it comes with a well working static site generator, so one can easily deploy pages on GitHub, GitLab, Netlify and so on</li>\n<li>you can pull your data just from anywhere you want</li>\n</ul>\n<p>I think the first point is easy to understand, but what does the second exactly mean?\nGatsby uses <a href=\"https://graphql.org/\">GraphQL</a> to retrieve the data your website is built from.\nSo you probably heard of <a href=\"https://jekyllrb.com/\">Jekyll</a> (written in Ruby) or <a href=\"https://gohugo.io/\">Hugo</a> (written in Go) to built static websites.\nMostly you have a predefined project structure to where to put your markdown documents and then your site gets build from that.\nThis is working great and perfect for a lot of use-cases, but let's be honest: Do you really want to dive in Ruby or Go?\nAt least me not, I'm happy with my Javascript, my (needing to develop) React skills and do not want to learn another language for building static sites (at least not yet).</p>\n<p>So that is why I decided to give Gatsby a go, since I can live in the JS world and get my data in the website with GraphQL. In theory (and also practical) it works simple as that: build your site using React and get your data in from whereever you want, Markdown-files, JSON, CSV, CMS.\nOf course one has to learn a bit GraphQL, but the use-cases really look promising. </p>\n<h2>Rebuilding of klimakrise</h2>\n<p>So what did I do? At first I went to the Gatsby starter library and luckily saw that there is already a Gatsby starter template for <a href=\"https://www.gatsbyjs.org/starters/?c=HTML5UP&#x26;v=2\">HTML5 UP</a>.</p>\n<p>So I went for the <a href=\"https://www.gatsbyjs.org/starters/anubhavsrivastava/gatsby-starter-directive/\"> same as Matthias did </a> and simply used the given command to clone it:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">gatsby new gatsby-starter-directive https://github.com/anubhavsrivastava/gatsby-starter-directive</code></pre></div>\n<p>We simply need an index page and that's where I want to put all the content from my Markdown file.</p>\n<p>So first Gatsby has to know, where to look for the markdown file. In the Gatsby ecosystem there is a plugin for everything. The corresponfing plugin to look for a file is called <a href=\"https://www.gatsbyjs.org/packages/gatsby-source-filesystem/?=\"><code class=\"language-text\">gatsby-source-filesystem</code></a>. We install it like mentioned and add it to our <code class=\"language-text\">gatsby-config.js</code>, where all the plugins are managed like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token punctuation\">{</span>\n  resolve<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-source-filesystem</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n  options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  path<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>__dirname<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/src/markdown</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n  name<span class=\"token operator\">:</span> <span class=\"token string\">\"markdown\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p>This makes the markdown folder accessible for GraphQL and we can import files from there.\nWe also need to import a Markdown parser, so our File gets converted into HTML.\nSince we will also work with pictures and iframes in our Markdown-file, we will the respectuve plugins as well, so our <code class=\"language-text\">gatsby-config.js</code>, will also have to include these plugins:</p>\n<ul>\n<li><a href=\"https://www.gatsbyjs.org/packages/gatsby-transformer-remark/?=transformer\">Gatsby-Transformer-Remark</a> for converting Markdown to HTML</li>\n<li><a href=\"https://www.gatsbyjs.org/packages/gatsby-remark-responsive-iframe/?=gatsby%20remark%20iframe\">gatsby-remark-responsive-iframe</a> for having nice responsive iframes</li>\n<li><a href=\"https://www.gatsbyjs.org/packages/gatsby-remark-images/?=gatsby%20remark%20imag\">gatsby-remark-images</a> for responsive images</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// gatsby-config.js</span>\n<span class=\"token punctuation\">{</span>\n    resolve<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-transformer-remark</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n            <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-remark-responsive-iframe</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">{</span>\n                resolve<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-remark-images</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n                options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                    maxWidth<span class=\"token operator\">:</span> <span class=\"token number\">800</span><span class=\"token punctuation\">,</span>\n                    linkImagesToOriginal<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> \n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p>So we got our data, markdown parser and are able to work with images.\nLet's jump right to the <code class=\"language-text\">index.js</code> and modify it the following way to get the data from a GraphQL query and implement it in our HTML:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> Layout <span class=\"token keyword\">from</span> <span class=\"token string\">'../components/Layout'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> graphql <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"gatsby\"</span>\n<span class=\"token keyword\">import</span> Header <span class=\"token keyword\">from</span> <span class=\"token string\">'../components/Header'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> Footer <span class=\"token keyword\">from</span> <span class=\"token string\">'../components/Footer'</span><span class=\"token punctuation\">;</span>\n\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">IndexPage</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token operator\">&lt;</span>Layout<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Header <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n\n          <span class=\"token operator\">&lt;</span>div id<span class=\"token operator\">=</span><span class=\"token string\">\"main\"</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>header className<span class=\"token operator\">=</span><span class=\"token string\">\"major container medium\"</span><span class=\"token operator\">></span>\n              <span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span>markdownRemark<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>header<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"box container\"</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>div\n              dangerouslySetInnerHTML<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> __html<span class=\"token operator\">:</span> data<span class=\"token punctuation\">.</span>markdownRemark<span class=\"token punctuation\">.</span>html <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n            <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Footer <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Layout<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> IndexPage\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> pageQuery <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\nquery IndexPageQuery {\n    markdownRemark(fileAbsolutePath: {regex: \"/index.md/\"}) {\n        id\n        frontmatter {\n        title\n        }\n        html\n  }\n}\n</span><span class=\"token template-punctuation string\">`</span></span></code></pre></div>\n<p>So what did I do?</p>\n<p>First I imported GraphQL to use it for my query.</p>\n<p>I added the data object to the IndexPage so I can use it there.</p>\n<p>But where does it come from? The data object is returned by the pageQuery at the end of the file: </p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> pageQuery <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  query IndexPageQuery {\n  markdownRemark(fileAbsolutePath: {regex: \"/index.md/\"}) {\n    id\n    frontmatter {\n      title\n    }\n    html\n  }\n}\n</span><span class=\"token template-punctuation string\">`</span></span></code></pre></div>\n<p>This is basically looking for the index.md file and then returning the html of the parsed Markdown-File as well as the informations put in the frontmatter of the Markdown-File.</p>\n<p>We can then use this information in the HTML by using simple dot notation on the data object.</p>\n<p>I further modified the Footer a little bit and removed some elements.\nLast I edited the <code class=\"language-text\">config.js</code> and added the correct heading, subHeading as well as socialLinks and that's basically it.</p>\n<h2>Deploy to GitHub-Pages</h2>\n<p>TODO</p>","frontmatter":{"title":"Getting my feet wet with Gatsby","link":null}}},"pageContext":{"slug":"/3_klimakrise/"}}}