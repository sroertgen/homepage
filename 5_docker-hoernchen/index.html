<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.44 'Fira Sans',sans-serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'Fira Sans',sans-serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;color:hsla(0,0%,0%,1);font-family:'Playfair Display',serif;font-weight:700;text-rendering:optimizeLegibility;font-size:2.15rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;color:hsla(0,0%,0%,1);font-family:'Playfair Display',serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1.58293rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;color:hsla(0,0%,0%,1);font-family:'Playfair Display',serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1.35824rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;color:hsla(0,0%,0%,1);font-family:'Playfair Display',serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;color:hsla(0,0%,0%,1);font-family:'Playfair Display',serif;font-weight:700;text-rendering:optimizeLegibility;font-size:0.85805rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;color:hsla(0,0%,0%,1);font-family:'Playfair Display',serif;font-weight:700;text-rendering:optimizeLegibility;font-size:0.79482rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;}ul{margin-left:1.44rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.44rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;font-size:0.85rem;line-height:1.44rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;font-size:1rem;line-height:1.44rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;}blockquote{margin-left:0;margin-right:1.44rem;margin-top:0;padding-bottom:0;padding-left:1.17rem;padding-right:0;padding-top:0;margin-bottom:1.08rem;font-size:1.16543rem;line-height:1.44rem;color:hsla(0,0%,0%,0.59);font-style:italic;border-left:0.27rem solid hsla(0,0%,0%,0.2);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.08rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.08rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.08rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.44rem;margin-bottom:calc(1.08rem / 2);margin-top:calc(1.08rem / 2);}li > ul{margin-left:1.44rem;margin-bottom:calc(1.08rem / 2);margin-top:calc(1.08rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.08rem / 2);}code{font-size:0.85rem;line-height:1.44rem;}kbd{font-size:0.85rem;line-height:1.44rem;}samp{font-size:0.85rem;line-height:1.44rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:0.96rem;padding-right:0.96rem;padding-top:0.72rem;padding-bottom:calc(0.72rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}a{color:#9f392b;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.44rem;color:hsla(0,0%,0%,0.8);font-weight:400;}blockquote cite:before{content:"— ";}@media only screen and (max-width:480px){blockquote{margin-left:-1.08rem;margin-right:0;padding-left:0.81rem;}}</style><style data-href="/homepage/styles.df29d2429121f2836c59.css">html{line-height:1.5}a{color:#000}.react-icons{vertical-align:middle;height:32px;width:32px;margin-right:1rem}.react-icons.menu-open{transform:rotate(90deg)}.layout{margin:0 auto;max-width:700px;padding:1.5rem 2rem 2rem}.topnav a{color:#000;text-decoration:none}.topnav a.active,.topnav a:hover{text-decoration:underline}.topnav .icon{display:none;cursor:pointer}.menu-open{animation-name:turn-menu-open;animation-duration:2s;animation-direction:normal;animation-fill-mode:forwards}.menu-close{animation-name:turn-menu-close;animation-duration:2s;animation-direction:forwards}@keyframes turn-menu-open{0%{transform:rotate(0deg)}to{transform:rotate(90deg)}}@keyframes turn-menu-close{0%{transform:rotate(90deg)}to{transform:rotate(0deg)}}@media screen and (max-width:600px){.topnav a:not(:first-child){display:none}.topnav a.icon{position:absolute;float:right;display:block;right:1rem;top:1.5rem}}@media screen and (max-width:600px){.topnav.responsive{position:relative;margin-bottom:1rem}.topnav.responsive a{float:none;display:block;text-align:left}.topnav.responsive a.icon div.menu-open{position:absolute;right:-2rem;top:-1.5rem}}</style><meta name="generator" content="Gatsby 2.21.37"/><link href="//fonts.googleapis.com/css?family=Playfair+Display:700|Fira+Sans:400,400i,700,700i" rel="stylesheet" type="text/css"/><link as="script" rel="preload" href="/homepage/webpack-runtime-ae3d01c97321ca454cbc.js"/><link as="script" rel="preload" href="/homepage/framework-75da9754c2a76bbaf08a.js"/><link as="script" rel="preload" href="/homepage/app-69682eb5a012f15474b9.js"/><link as="script" rel="preload" href="/homepage/styles-503b3015a8b38c118cb7.js"/><link as="script" rel="preload" href="/homepage/1bfc9850-e23d00027d74d18cbd12.js"/><link as="script" rel="preload" href="/homepage/commons-cc9cafcdafc69a1a8108.js"/><link as="script" rel="preload" href="/homepage/component---src-templates-blog-post-js-f313c1cecfee47996ed4.js"/><link as="fetch" rel="preload" href="/homepage/page-data/5_docker-hoernchen/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/homepage/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="layout"><div class="topnav" class="topnav" id="myTopnav"><a href="/homepage/"><style data-emotion-css="i0b9uu">.css-i0b9uu{margin-bottom:2.88rem;display:inline-block;font-style:normal;}</style><h3 class="css-i0b9uu">Hacking for Open Education</h3></a><style data-emotion-css="146q31f">.css-146q31f{float:right;}</style><a class="css-146q31f" href="/homepage/about/">About</a><style data-emotion-css="10kaw37">.css-10kaw37{float:right;margin-right:1rem;}</style><a class="css-10kaw37" href="/homepage/projects/">Projects</a><a class="icon"><div id="menuicon" class="react-icons"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" class="react-icons" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"></path></svg></div></a></div><div><h1>Docker hOERnchen 2.0</h1><div><p>Dies ist eine Weiterentwicklung des Ansatzes von <a href="https://twitter.com/m_andrasch">Matthis Andrasch</a> Prototypen eines OER-Indexes (<a href="https://github.com/programmieraffe/oerhoernchen20">oerhoernchen20</a>).
Ich habe eine ETL-Pipeline erstellt, die Inhalte von anderen Repos crawlt, die Metadaten in einer Datenbank speichert und anschließend in eine Elasticsearch-Instanz überführt.
Das gesamte Projekt ist dockerisiert und lässt sich dadurch einfach nachnutzen und weiterentwickeln.
Teile des Projektes und der Ideen werden von der TIB Hannover in ihrem Projekt <a href="https://gitlab.com/TIBHannover/oer/oersi-setup"> "OER Search Index" </a> und dem Projekt <a href="https://wirlernenonline.de">wirlernenonline.de</a> (<a href="https://github.com/openeduhub">Git-Repo</a>) nachgenutzt.</p>
<hr>
<h2>Details (from README)</h2>
<p>This project is a dockerized version of the <a href="https://github.com/programmieraffe/oerhoernchen20">oerhoernchen20</a> made by <a href="https://twitter.com/m_andrasch">Matthias Andrasch</a>. It tries to combine the central OER search engine approach proprosed by Matthias with the <a href="https://ebildungslabor.de/blog/oersuchtool/">personalized search engine</a> approach proposed by <a href="https://twitter.com/eBildungslabor">Nele Hirsch</a> as it is also possible to insert ones own data to the search engines index.</p>
<p>The general idea of this prototype is to establish a example pipeline of how a OER search engine could work.</p>
<p>This <strong>PROTOTYPE</strong> is based on the following technologies all packed into docker-containers (beside the the scapy-crawler):</p>
<ul>
<li>
<p><strong>Scrapy</strong>: First OER repositories are crawled using <strong><a href="http://scrapy.org/">Scrapy</a></strong>. Currently the following repositories are crawled:</p>
<ul>
<li><a href="https://www.hoou.de/">HOOU</a></li>
<li>a bit of <a href="https://open-educational-resources.de/">OERinfo</a></li>
<li><a href="https://av.tib.eu">TIB-AV-Portal</a></li>
<li><a href="https://digill.de/">digiLL</a></li>
<li><a href="https://open.ruhr-uni-bochum.de">OpenRUB</a></li>
<li><a href="https://mediathek.hhu.de/">HHU-Mediathek</a></li>
<li>MOOCs of <a href="https://www.oncampus.de/">oncampus</a></li>
<li><a href="https://uni-tuebingen.oerbw.de">ZOERR</a></li>
</ul>
<p>Entries without a proper license are skipped and not stored). The results are stored in a MySQL database.</p>
</li>
<li><strong>MySQL</strong>: Used to store the results of the crawl.</li>
<li><strong>Logstash</strong>: Logstash is regulary checking the MySQL database, if any new items are added or changes are made to existing entries.</li>
<li><strong>Elasticsearch</strong>: Elasticsearch is the search engine and indexes the input it gets from Logstash.</li>
<li><strong>VueJS</strong>: The WebApp is made with VueJS and using <a href="https://docs.appbase.io/docs/reactivesearch/vue/overview/QuickStart/">ReactSearch</a> to connect to Elasticsearch. It provides the user interface to make search queries or add items to Elasticsearch. It is deployed using Nginx, which also provides some reverse proxy services to connect the App with the Docker network.</li>
</ul>
<h2>Run it locally</h2>
<h3>OERhörnchen 2.0</h3>
<ul>
<li>make sure you have git installed (<a href="https://www.atlassian.com/git/tutorials/install-git">https://www.atlassian.com/git/tutorials/install-git</a>)</li>
<li>make sure you have <a href="https://docs.docker.com/install/">Docker installed</a></li>
<li><code>git clone</code></li>
<li><code>cd oerhoernchen20_docker/docker_hoernchen</code></li>
<li><code>docker-compose up</code> this may take a while on the first run as some images will have to be build.</li>
<li>after a few minutes you should be able to go to <a href="http://localhost">http://localhost</a> and see your "OERhörnchen 2.0" instance ready (if it still says "Loading entries" you might just have to wait a bit longer)</li>
<li>(for DockerPros: Don't get confused with the indexer-contaier throwing some errors at the beginning. It is started right at the beginning and looking for Elasticsearch, even if it's not ready yet. It stops throwing errors after a minute or so. Have to fix this, shouldn't be too complicated.)</li>
</ul>
<h3>Crawler</h3>
<ul>
<li>make sure you have python3 installed (<a href="https://docs.python-guide.org/starting/install3/osx/">https://docs.python-guide.org/starting/install3/osx/</a>)</li>
<li>go to project root</li>
<li><code>cd oer_scrapy</code></li>
<li><code>python -m venv oerhoernchen</code></li>
<li><code>source oerhoernchen/bin/activate</code></li>
<li><code>pip3 install -r requirements.txt</code></li>
<li>crawler can be run with <code>scrapy crawl hoou_spider</code>. It assumes that you have the MySQL database running, so you should run the <code>docker-compose up</code> command from before.</li>
</ul>
<h2>Metadata</h2>
<ul>
<li>The mapping in Elasticsearch currently uses the LRMI as used by the HOOU <a href="https://www.dublincore.org/specifications/lrmi/lrmi_terms/">LRMI (Learning Resource Metadata Initiative)</a>.</li>
</ul>
<h2>Additional notices</h2>
<h3>Sitemaps for the crawler</h3>
<ul>
<li>ZOERR: <a href="https://uni-tuebingen.oerbw.de/edu-sharing/eduservlet/sitemap?from=0#osds">https://uni-tuebingen.oerbw.de/edu-sharing/eduservlet/sitemap?from=0#osds</a></li>
</ul>
<h3>Database</h3>
<h4>Creating a mysql database dump with docker container</h4>
<ul>
<li><code>docker exec some-mysql sh -c 'exec mysqldump --all-databases -uroot -p"$MYSQL_ROOT_PASSWORD"' > /some/path/on/your/host/all-databases.sql</code></li>
</ul>
<h3>Vue Hörnchen</h3>
<h4>Ressources</h4>
<ul>
<li><a href="https://docs.appbase.io/docs/reactivesearch/vue/overview/QuickStart/">https://docs.appbase.io/docs/reactivesearch/vue/overview/QuickStart/</a></li>
<li><a href="https://opensource.appbase.io/reactive-manual/getting-started/reactivebase.html">Getting started guide</a></li>
</ul>
<h3>Multiple database inputs via logstash</h3>
<ul>
<li><a href="https://stackoverflow.com/questions/37613611/multiple-inputs-on-logstash-jdbc">https://stackoverflow.com/questions/37613611/multiple-inputs-on-logstash-jdbc</a></li>
</ul>
<h3>Duplicate detection</h3>
<ul>
<li>
<p>logstash Fingerprint vor duplicate detection?</p>
<ul>
<li><a href="https://www.elastic.co/de/blog/logstash-lessons-handling-duplicates">https://www.elastic.co/de/blog/logstash-lessons-handling-duplicates</a></li>
<li><a href="https://www.elastic.co/de/blog/efficient-duplicate-prevention-for-event-based-data-in-elasticsearch">https://www.elastic.co/de/blog/efficient-duplicate-prevention-for-event-based-data-in-elasticsearch</a></li>
</ul>
</li>
</ul>
<h2>License</h2>
<p>Just take it.</p>
<p xmlns:dct="http://purl.org/dc/terms/" xmlns:vcard="http://www.w3.org/2001/vcard-rdf/3.0#">
  <a rel="license"
     href="http://creativecommons.org/publicdomain/zero/1.0/">
    <img src="http://i.creativecommons.org/p/zero/1.0/88x31.png" style="border-style: none;" alt="CC0" />
  </a>
  <br />
  To the extent possible under law,
  <a rel="dct:publisher"
     href="https://github.com/sroertgen/oerhoernchen20_docker">
    <span property="dct:title">Steffen Rörtgen</span></a>
  has waived all copyright and related or neighboring rights to
  <span property="dct:title">Docker-Hoernchen 2.0</span>.
This work is published from:
<span property="vcard:Country" datatype="dct:ISO3166"
      content="DE" about="https://github.com/sroertgen/oerhoernchen20_docker">
  Deutschland</span>.
</p></div><style data-emotion-css="1azakc">.css-1azakc{text-align:center;}</style><div class="css-1azakc"><hr/><a href="https://github.com/sroertgen/oerhoernchen20_docker" target="_blank">Link zum Repo</a><br/><br/></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/5_docker-hoernchen/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-69682eb5a012f15474b9.js"],"component---src-pages-about-js":["/component---src-pages-about-js-49cefb193b3e5523d578.js"],"component---src-pages-index-js":["/component---src-pages-index-js-f3fcb1a2e997715aba00.js"],"component---src-pages-projects-js":["/component---src-pages-projects-js-cc746a48b8b0f96d8fde.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-f313c1cecfee47996ed4.js"]};/*]]>*/</script><script src="/homepage/component---src-templates-blog-post-js-f313c1cecfee47996ed4.js" async=""></script><script src="/homepage/commons-cc9cafcdafc69a1a8108.js" async=""></script><script src="/homepage/1bfc9850-e23d00027d74d18cbd12.js" async=""></script><script src="/homepage/styles-503b3015a8b38c118cb7.js" async=""></script><script src="/homepage/app-69682eb5a012f15474b9.js" async=""></script><script src="/homepage/framework-75da9754c2a76bbaf08a.js" async=""></script><script src="/homepage/webpack-runtime-ae3d01c97321ca454cbc.js" async=""></script></body></html>